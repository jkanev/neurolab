\section{ConditionalEstimator Class Reference}
\label{classConditionalEstimator}\index{ConditionalEstimator@{ConditionalEstimator}}
Inheritance diagram for ConditionalEstimator::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{classConditionalEstimator}
\end{center}
\end{figure}


\subsection{Detailed Description}
estimates conditional mean, var, etc. of a stochastic process 

The conditional estimator records conditional probabilities. It links to a stochastic variable, and an event (both of which are given in the constructor). The variable and the state of the event are recorded each time prepareNextState() is called. If the event is true at a timestep, then the object will go on recording for a number of time steps, and then take all the properties. This enables you to take for instance the mean of a process at 20 time steps before to 10 time step after the occurance of a special event. In that case the 20 time steps would be given as 'pre', the 10 time steps as 'post' to the constructor. The main purpose of this class (at the time it was written) was the recording of spike-triggered averages in neurons. \subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf ConditionalEstimator} (const Property \&property, {\bf StochasticProcess} $\ast$stochvar, {\bf StochasticEventGenerator} $\ast$condition, {\bf Time} $\ast$time, int pre, int post, int updateCorrection=0)
\begin{CompactList}\small\item\em Construct. \item\end{CompactList}\item 
{\bf ConditionalEstimator} (const Property \&property, {\bf StochasticProcess} $\ast$stochvar, {\bf StochasticProcess} $\ast$condition, {\bf Time} $\ast$time, int pre, int post, int updateCorrection=0)
\begin{CompactList}\small\item\em Construct. \item\end{CompactList}\item 
void {\bf setRejection} (int pre, int post)
\begin{CompactList}\small\item\em Add rejection interval. \item\end{CompactList}\item 
void {\bf removeRejection} ()
\begin{CompactList}\small\item\em Remove rejection. \item\end{CompactList}\item 
virtual void {\bf setParameter} (const Property \&p, double value)\label{classConditionalEstimator_f5f771f7cff9026af7109d76ccbd9159}

\begin{CompactList}\small\item\em set parameter value \item\end{CompactList}\item 
virtual void {\bf collect} ()\label{classConditionalEstimator_230301262ea04440adc4ce23ce682ace}

\begin{CompactList}\small\item\em receive next data point \item\end{CompactList}\item 
virtual {\bf Matrix} {\bf mResult} (const Property \&)\label{classConditionalEstimator_e9c71060bb7cd8504cfc3b509a82269c}

\begin{CompactList}\small\item\em get some property \item\end{CompactList}\item 
void {\bf init} ()\label{classConditionalEstimator_e3bb88958785255249e009c753387b53}

\begin{CompactList}\small\item\em initialize \item\end{CompactList}\item 
virtual {\bf $\sim$ConditionalEstimator} ()\label{classConditionalEstimator_db29e5b6cc1b148323ff3a95229d3a77}

\begin{CompactList}\small\item\em destruct \item\end{CompactList}\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{ConditionalEstimator@{ConditionalEstimator}!ConditionalEstimator@{ConditionalEstimator}}
\index{ConditionalEstimator@{ConditionalEstimator}!ConditionalEstimator@{ConditionalEstimator}}
\subsubsection[ConditionalEstimator]{\setlength{\rightskip}{0pt plus 5cm}ConditionalEstimator::ConditionalEstimator (const Property \& {\em property}, \/  {\bf StochasticProcess} $\ast$ {\em stochvar}, \/  {\bf StochasticEventGenerator} $\ast$ {\em condition}, \/  {\bf Time} $\ast$ {\em time}, \/  int {\em pre}, \/  int {\em post}, \/  int {\em updateCorrection} = {\tt 0})}\label{classConditionalEstimator_0e02d1b3e93f64249a3c93e4e57098ca}


Construct. 

This version constructs an object which records (and adds) samples of a stochastic process, depending on whether an event has occured: result = \{ stochvar(t), t in [pre,post] $|$ condition(0) \}. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
property}]a collection of things to record \item[{\em 
stochvar}]the address of the stochastic variable to record \item[{\em 
condition}]the address of the event on which the recording is conditioned \item[{\em 
time}]the global time object \item[{\em 
pre}]number of time steps before the event \item[{\em 
post}]number of time steps after the event \item[{\em 
updateCorrection}]optional; defaults to 0. number of time steps to shift the result; this is to correct different update cascades \end{description}
\end{Desc}
\index{ConditionalEstimator@{ConditionalEstimator}!ConditionalEstimator@{ConditionalEstimator}}
\index{ConditionalEstimator@{ConditionalEstimator}!ConditionalEstimator@{ConditionalEstimator}}
\subsubsection[ConditionalEstimator]{\setlength{\rightskip}{0pt plus 5cm}ConditionalEstimator::ConditionalEstimator (const Property \& {\em property}, \/  {\bf StochasticProcess} $\ast$ {\em stochvar}, \/  {\bf StochasticProcess} $\ast$ {\em condition}, \/  {\bf Time} $\ast$ {\em time}, \/  int {\em pre}, \/  int {\em post}, \/  int {\em updateCorrection} = {\tt 0})}\label{classConditionalEstimator_a0efd957ebc4618af04d94a8b1c4e1c1}


Construct. 

This version constructs an object which records (and adds) samples of a stochastic process, multiplied with the value of another process: result = \{ stochvar(t)$\ast$condition(0), t in [pre,post] \}. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
property}]a collection of things to record \item[{\em 
stochvar}]the address of the stochastic variable to record \item[{\em 
condition}]the address of the process on which the recording is conditioned \item[{\em 
time}]the global time object \item[{\em 
pre}]number of time steps before the event \item[{\em 
post}]number of time steps after the event \item[{\em 
updateCorrection}]optional; defaults to 0. number of time steps to shift the result; this is to correct different update cascades \end{description}
\end{Desc}


\subsection{Member Function Documentation}
\index{ConditionalEstimator@{ConditionalEstimator}!setRejection@{setRejection}}
\index{setRejection@{setRejection}!ConditionalEstimator@{ConditionalEstimator}}
\subsubsection[setRejection]{\setlength{\rightskip}{0pt plus 5cm}void ConditionalEstimator::setRejection (int {\em pre}, \/  int {\em post})}\label{classConditionalEstimator_293d7b5c39d64262cab391db5c92b09b}


Add rejection interval. 

Special. You will hardly ever need this. If a rejection interval is set, traces of the process where additional events fall into the interval -pre - post are rejected. (this changes the meausured process \[X_t\] to \[ Y_\tau = \{ X_{t+\tau} | c(t+\tau) \hat \not c(t+s), s \in [-pre,post]/0\}\] \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
pre}]start of rejection interval, counted from the event (t=0) \item[{\em 
post}]end of rejection interval, counted from the event (t=0) \end{description}
\end{Desc}
\index{ConditionalEstimator@{ConditionalEstimator}!removeRejection@{removeRejection}}
\index{removeRejection@{removeRejection}!ConditionalEstimator@{ConditionalEstimator}}
\subsubsection[removeRejection]{\setlength{\rightskip}{0pt plus 5cm}void ConditionalEstimator::removeRejection ()}\label{classConditionalEstimator_59b847386798c7910ab8ad2fc7a1bb9f}


Remove rejection. 

Sets the estimator to normal mode again. See \doxyref{setRejection()}{p.}{classConditionalEstimator_293d7b5c39d64262cab391db5c92b09b}. 