\section{DifferentialEquation Class Reference}
\label{classDifferentialEquation}\index{DifferentialEquation@{DifferentialEquation}}
Inheritance diagram for DifferentialEquation::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{classDifferentialEquation}
\end{center}
\end{figure}


\subsection{Detailed Description}
A stochastic differential equation. 

Class implementing stochastic differential equations (SDEs). Ito- and Stratonovich integrals can be chosen, integrators and integrands can be added at runtime.

This class implements stochastic differential equations (SDEs) of the form \[ dX = \sum_i f_i(X) dY_i \] (using It$\backslash$$^\wedge$o integrals), or \[ dX = \sum_i f_i(X) \circ dY_i \] (using Stratonovich integrals). The sum goes over multiple different functions $f_i$. These should be intepreted as integral equations of the form \[ X - X_0 = \sum_i \intop f_i(X) dY_i \] (Ito), or \[ X - X_0 = \sum_i \intop f_i(X) \circ dY_i \] (Stratonovich). It$\backslash$$^\wedge$o mode can be set by calling \doxyref{setIto()}{p.}{classDifferentialEquation_66d03f1596bf45447470584d926b315e}, Stratonovich mode can be set by calling \doxyref{setStrat()}{p.}{classDifferentialEquation_9780bdc8678ef3ee087a677009355248}. Which mode is used can be tested by querying \doxyref{bIsIto()}{p.}{classDifferentialEquation_a7a176d030187ecf334b9bf3299fd140} (true if Ito mode) or \doxyref{bIsStrat()}{p.}{classDifferentialEquation_c0a680c1486cac02b048cbdf475b5d61} (true if Stratonovich integrals are used). At the moment there is only the 0.5-strong-order Euler scheme implemented, but Milstein and Taylor of higher order are planned for the future. See the main page for display of the error made when integrating. Here is a short example of the difference of Ito and Stratonovich integration (the equation is $dX_t = aX_tdt + bX_tdW_t$ or $dX_t = aX_tdt + bX_t\circ dW_t$ with $a=-8.0$ and $b=0.8$.):

The integrands $f_i(X_t)$ are objects of the type Integrand, and the integrators $dY_i$ are objects of the type Integrator. They are stored in arrays of function objects, and their Integrand::operator()(double) or Integrator::operator()() are called each time \doxyref{proceedToNextState()}{p.}{classStochasticProcess_c79b6846db19a8de5025a2e36b6f6901} is called. Use dGetValue() (from StochVar) or operator(double) to get the current value of the integral. The function \doxyref{proceedToNextState()}{p.}{classStochasticProcess_c79b6846db19a8de5025a2e36b6f6901} must be used to calculate the values of the next time step, the function \doxyref{prepareNextState()}{p.}{classDifferentialEquation_439f935ee6aac295651739607795b3f2} must be used to update the object. New integrators and integrands may be added easily by calling nAddIntegrator() or nAddIntegrand().

\doxyref{DifferentialEquation}{p.}{classDifferentialEquation} itself is of type Integrator and of type Integrand, so complex cascades of differential equations may be implemented. If you have a complex network of interdependent SDEs, you must first call the \doxyref{proceedToNextState()}{p.}{classStochasticProcess_c79b6846db19a8de5025a2e36b6f6901} function of all objects, then the \doxyref{prepareNextState()}{p.}{classDifferentialEquation_439f935ee6aac295651739607795b3f2} function of all objects. Otherwise circular dependencies will not get updated correctly. \subsection*{Ito/Stratonovich mode}
\begin{CompactItemize}
\item 
void(DifferentialEquation::$\ast$ {\bf eqnMethodPtr} )()\label{classDifferentialEquation_0be894b3b8606b82be65a2e8ca05f59b}

\begin{CompactList}\small\item\em member pointer to one of the privat fcns. \item\end{CompactList}\item 
bool {\bf bIsIto} ()\label{classDifferentialEquation_a7a176d030187ecf334b9bf3299fd140}

\begin{CompactList}\small\item\em ito integrating mode? \item\end{CompactList}\item 
bool {\bf bIsStrat} ()\label{classDifferentialEquation_c0a680c1486cac02b048cbdf475b5d61}

\begin{CompactList}\small\item\em stratonovich integrating mode? \item\end{CompactList}\item 
void {\bf setIto} ()\label{classDifferentialEquation_66d03f1596bf45447470584d926b315e}

\begin{CompactList}\small\item\em set integrating mode to ito \item\end{CompactList}\item 
void {\bf setStrat} ()\label{classDifferentialEquation_9780bdc8678ef3ee087a677009355248}

\begin{CompactList}\small\item\em set integrating mode to stratonovich \item\end{CompactList}\end{CompactItemize}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf DifferentialEquation} (double x0, double dx0, const string \&name=\char`\"{}\char`\"{}, const string \&type=\char`\"{}differential\_\-equation\char`\"{})
\begin{CompactList}\small\item\em starting value \item\end{CompactList}\item 
{\bf DifferentialEquation} ({\bf Time} $\ast$time, double x0, double dx0, const string \&name=\char`\"{}\char`\"{}, const string \&type=\char`\"{}differential\_\-equation\char`\"{})
\begin{CompactList}\small\item\em Constructor. \item\end{CompactList}\item 
{\bf DifferentialEquation} (const string \&name=\char`\"{}\char`\"{}, const string \&type=\char`\"{}differential\_\-equation\char`\"{})
\begin{CompactList}\small\item\em Construct. \item\end{CompactList}\item 
virtual {\bf $\sim$DifferentialEquation} ()\label{classDifferentialEquation_10ec69c81f274c4efa28272bb2d90fd0}

\begin{CompactList}\small\item\em Destructor. \item\end{CompactList}\item 
virtual void {\bf prepareNextState} ()
\begin{CompactList}\small\item\em Calculate value for next time step. \item\end{CompactList}\item 
virtual void {\bf init} (double x0)\label{classDifferentialEquation_b57ce9c7abd5afbe1ffc3e56d8f8d1b9}

\begin{CompactList}\small\item\em Sets value to a starting value. \item\end{CompactList}\item 
virtual void {\bf init} ()\label{classDifferentialEquation_69375f9237ad9af5b2c25715b98e3337}

\begin{CompactList}\small\item\em Sets value to starting value. \item\end{CompactList}\item 
double {\bf getStartingValue} ()\label{classDifferentialEquation_576049bb5a2b986ada3771fe10c8c108}

\begin{CompactList}\small\item\em Get the starting value. \item\end{CompactList}\item 
int {\bf addTerm} ({\bf StochasticFunction} $\ast$integrand, {\bf StochasticVariable} $\ast$integrator)\label{classDifferentialEquation_1bef85199f80682b84a9f9645a65d0bf}

\begin{CompactList}\small\item\em Add term. \item\end{CompactList}\item 
void {\bf rmTerm} (int n)\label{classDifferentialEquation_00c79559c2436f9b09efe619fc578ff7}

\begin{CompactList}\small\item\em Remove term. \item\end{CompactList}\item 
void {\bf setTerm} (int n, {\bf StochasticFunction} $\ast$integrand, {\bf StochasticVariable} $\ast$integrator)\label{classDifferentialEquation_bacb88e73ac01d5b1046a46d758e0292}

\begin{CompactList}\small\item\em Set term. \item\end{CompactList}\item 
{\bf StochasticFunction} $\ast$ {\bf getIntegrand} (int)\label{classDifferentialEquation_d9770baa4710ee0135a1b0542726b935}

\begin{CompactList}\small\item\em get integrand \item\end{CompactList}\item 
{\bf StochasticVariable} $\ast$ {\bf getIntegrator} (int)\label{classDifferentialEquation_828d89a67bf32e8e4406586e826fa9b5}

\begin{CompactList}\small\item\em get integrator \item\end{CompactList}\item 
virtual string {\bf getParameter} (const string \&name)
\begin{CompactList}\small\item\em Get parameter. \item\end{CompactList}\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\subsubsection[DifferentialEquation]{\setlength{\rightskip}{0pt plus 5cm}DifferentialEquation::DifferentialEquation (double {\em x0}, \/  double {\em dx0}, \/  const string \& {\em name} = {\tt \char`\"{}\char`\"{}}, \/  const string \& {\em type} = {\tt \char`\"{}differential\_\-equation\char`\"{}})}\label{classDifferentialEquation_f690efd96c3aeee8d957e93d8be3129c}


starting value 

Constructor. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em x0}]Starting value \item[{\em dx0}]Starting increment \end{description}
\end{Desc}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\subsubsection[DifferentialEquation]{\setlength{\rightskip}{0pt plus 5cm}DifferentialEquation::DifferentialEquation ({\bf Time} $\ast$ {\em time}, \/  double {\em x0}, \/  double {\em dx0}, \/  const string \& {\em name} = {\tt \char`\"{}\char`\"{}}, \/  const string \& {\em type} = {\tt \char`\"{}differential\_\-equation\char`\"{}})}\label{classDifferentialEquation_d812fc6333f3899719220652b94514b6}


Constructor. 

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em x0}]Starting value \item[{\em dx0}]Starting increment \end{description}
\end{Desc}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\index{DifferentialEquation@{DifferentialEquation}!DifferentialEquation@{DifferentialEquation}}
\subsubsection[DifferentialEquation]{\setlength{\rightskip}{0pt plus 5cm}DifferentialEquation::DifferentialEquation (const string \& {\em name} = {\tt \char`\"{}\char`\"{}}, \/  const string \& {\em type} = {\tt \char`\"{}differential\_\-equation\char`\"{}})\hspace{0.3cm}{\tt  [inline]}}\label{classDifferentialEquation_ba36a02def7ec519975e057b70298480}


Construct. 

The same as using \doxyref{DifferentialEquation}{p.}{classDifferentialEquation}(0.0, 0.0). 

\subsection{Member Function Documentation}
\index{DifferentialEquation@{DifferentialEquation}!prepareNextState@{prepareNextState}}
\index{prepareNextState@{prepareNextState}!DifferentialEquation@{DifferentialEquation}}
\subsubsection[prepareNextState]{\setlength{\rightskip}{0pt plus 5cm}virtual void DifferentialEquation::prepareNextState ()\hspace{0.3cm}{\tt  [virtual]}}\label{classDifferentialEquation_439f935ee6aac295651739607795b3f2}


Calculate value for next time step. 

This just calculates the next value. Nothing is changed before \doxyref{proceedToNextState()}{p.}{classStochasticProcess_c79b6846db19a8de5025a2e36b6f6901} is called. 

Reimplemented from {\bf StochasticProcess} \doxyref{}{p.}{classStochasticProcess_b4c11ea89fa2d41a9f61df1ebdf04f78}.\index{DifferentialEquation@{DifferentialEquation}!getParameter@{getParameter}}
\index{getParameter@{getParameter}!DifferentialEquation@{DifferentialEquation}}
\subsubsection[getParameter]{\setlength{\rightskip}{0pt plus 5cm}virtual string DifferentialEquation::getParameter (const string \& {\em name})\hspace{0.3cm}{\tt  [virtual]}}\label{classDifferentialEquation_8edfa603b974d803268a604dff8ff964}


Get parameter. 

In a derived class, override this to handle every parameter you implement. If a parameter is described using multiple strings separated by space, this indicates a parameter of a parameter. \begin{Desc}
\item[Parameters: ]\par
\begin{description}
\item[{\em 
name}]name of parameter \end{description}
\end{Desc}


Reimplemented from {\bf Parametric} \doxyref{}{p.}{classParametric_3c39188e1750b8e5d442b9dfa079b1c8}.