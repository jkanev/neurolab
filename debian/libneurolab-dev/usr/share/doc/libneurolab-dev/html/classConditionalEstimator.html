<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NeuroLab: ConditionalEstimator Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>ConditionalEstimator Class Reference</h1><!-- doxytag: class="ConditionalEstimator" --><!-- doxytag: inherits="Estimator,TimeDependent" --><div class="dynheader">
Inheritance diagram for ConditionalEstimator:</div>
<div class="dynsection">

<p><center><img src="classConditionalEstimator.png" usemap="#ConditionalEstimator_map" border="0" alt=""></center>
<map name="ConditionalEstimator_map">
<area href="classEstimator.html" alt="Estimator" shape="rect" coords="0,56,126,80">
<area href="classTimeDependent.html" alt="TimeDependent" shape="rect" coords="136,56,262,80">
<area href="classParametric.html" alt="Parametric" shape="rect" coords="0,0,126,24">
</map>
</div>

<p>
<a href="classConditionalEstimator-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
estimates conditional mean, var, etc. of a stochastic process 
<p>
The conditional estimator records conditional probabilities. It links to a stochastic variable, and an event (both of which are given in the constructor). The variable and the state of the event are recorded each time next() is called. If the event is true at a timestep, then the object will go on recording for a number of time steps, and then take all the properties. This enables you to take for instance the mean of a process at 20 time steps before to 10 time step after the occurance of a special event. In that case the 20 time steps would be given as 'pre', the 10 time steps as 'post' to the constructor. The main purpose of this class (at the time it was written) was the recording of spike-triggered averages in neurons. <table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#b8b241068a1f590b0a0cefe3c5e94845">ConditionalEstimator</a> (const Property &amp;property, <a class="el" href="classStochastic.html">Stochastic</a> *stochvar, <a class="el" href="classEvent.html">Event</a> *condition, int pre, int post, int updateCorrection=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct.  <a href="#b8b241068a1f590b0a0cefe3c5e94845"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#08e978269da257a3ddc4f92050798004">ConditionalEstimator</a> (const Property &amp;property, <a class="el" href="classStochastic.html">Stochastic</a> *stochvar, <a class="el" href="classStochastic.html">Stochastic</a> *condition, int pre, int post, int updateCorrection=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Construct.  <a href="#08e978269da257a3ddc4f92050798004"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#293d7b5c39d64262cab391db5c92b09b">setRejection</a> (int pre, int post)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add rejection interval.  <a href="#293d7b5c39d64262cab391db5c92b09b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#59b847386798c7910ab8ad2fc7a1bb9f">removeRejection</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove rejection.  <a href="#59b847386798c7910ab8ad2fc7a1bb9f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f5f771f7cff9026af7109d76ccbd9159"></a><!-- doxytag: member="ConditionalEstimator::setParameter" ref="f5f771f7cff9026af7109d76ccbd9159" args="(const Property &amp;p, double value)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#f5f771f7cff9026af7109d76ccbd9159">setParameter</a> (const Property &amp;p, double value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">set parameter value <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c017c177200e5be28d5eee1e68970462"></a><!-- doxytag: member="ConditionalEstimator::step" ref="c017c177200e5be28d5eee1e68970462" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#c017c177200e5be28d5eee1e68970462">step</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">receive next data point <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e9c71060bb7cd8504cfc3b509a82269c"></a><!-- doxytag: member="ConditionalEstimator::mResult" ref="e9c71060bb7cd8504cfc3b509a82269c" args="(const Property &amp;)" -->
virtual <a class="el" href="classMatrix.html">Matrix</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#e9c71060bb7cd8504cfc3b509a82269c">mResult</a> (const Property &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">get some property <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e3bb88958785255249e009c753387b53"></a><!-- doxytag: member="ConditionalEstimator::init" ref="e3bb88958785255249e009c753387b53" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#e3bb88958785255249e009c753387b53">init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">initialize <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="db29e5b6cc1b148323ff3a95229d3a77"></a><!-- doxytag: member="ConditionalEstimator::~ConditionalEstimator" ref="db29e5b6cc1b148323ff3a95229d3a77" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classConditionalEstimator.html#db29e5b6cc1b148323ff3a95229d3a77">~ConditionalEstimator</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">destruct <br></td></tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="b8b241068a1f590b0a0cefe3c5e94845"></a><!-- doxytag: member="ConditionalEstimator::ConditionalEstimator" ref="b8b241068a1f590b0a0cefe3c5e94845" args="(const Property &amp;property, Stochastic *stochvar, Event *condition, int pre, int post, int updateCorrection=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConditionalEstimator::ConditionalEstimator           </td>
          <td>(</td>
          <td class="paramtype">const Property &amp;&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStochastic.html">Stochastic</a> *&nbsp;</td>
          <td class="paramname"> <em>stochvar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classEvent.html">Event</a> *&nbsp;</td>
          <td class="paramname"> <em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>updateCorrection</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct. 
<p>
This version constructs an object which records (and adds) samples of a stochastic process, depending on whether an event has occured: result = { stochvar(t), t in [pre,post] | condition(0) }. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>property</em>&nbsp;</td><td>
a collection of things to record </td></tr>
<tr><td valign="top"><em>stochvar</em>&nbsp;</td><td>
the address of the stochastic variable to record </td></tr>
<tr><td valign="top"><em>condition</em>&nbsp;</td><td>
the address of the event on which the recording is conditioned </td></tr>
<tr><td valign="top"><em>pre</em>&nbsp;</td><td>
number of time steps before the event </td></tr>
<tr><td valign="top"><em>post</em>&nbsp;</td><td>
number of time steps after the event </td></tr>
<tr><td valign="top"><em>updateCorrection</em>&nbsp;</td><td>
optional; defaults to 0. number of time steps to shift the result; this is to correct different update cascades </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="08e978269da257a3ddc4f92050798004"></a><!-- doxytag: member="ConditionalEstimator::ConditionalEstimator" ref="08e978269da257a3ddc4f92050798004" args="(const Property &amp;property, Stochastic *stochvar, Stochastic *condition, int pre, int post, int updateCorrection=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConditionalEstimator::ConditionalEstimator           </td>
          <td>(</td>
          <td class="paramtype">const Property &amp;&nbsp;</td>
          <td class="paramname"> <em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStochastic.html">Stochastic</a> *&nbsp;</td>
          <td class="paramname"> <em>stochvar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classStochastic.html">Stochastic</a> *&nbsp;</td>
          <td class="paramname"> <em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>post</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>updateCorrection</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Construct. 
<p>
This version constructs an object which records (and adds) samples of a stochastic process, multiplied with the value of another process: result = { stochvar(t)*condition(0), t in [pre,post] }. <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>property</em>&nbsp;</td><td>
a collection of things to record </td></tr>
<tr><td valign="top"><em>stochvar</em>&nbsp;</td><td>
the address of the stochastic variable to record </td></tr>
<tr><td valign="top"><em>condition</em>&nbsp;</td><td>
the address of the process on which the recording is conditioned </td></tr>
<tr><td valign="top"><em>pre</em>&nbsp;</td><td>
number of time steps before the event </td></tr>
<tr><td valign="top"><em>post</em>&nbsp;</td><td>
number of time steps after the event </td></tr>
<tr><td valign="top"><em>updateCorrection</em>&nbsp;</td><td>
optional; defaults to 0. number of time steps to shift the result; this is to correct different update cascades </td></tr>
</table>
</dl>
</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="293d7b5c39d64262cab391db5c92b09b"></a><!-- doxytag: member="ConditionalEstimator::setRejection" ref="293d7b5c39d64262cab391db5c92b09b" args="(int pre, int post)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConditionalEstimator::setRejection           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pre</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>post</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add rejection interval. 
<p>
Special. You will hardly ever need this. If a rejection interval is set, traces of the process where additional events fall into the interval -pre - post are rejected. (this changes the meausured process <p class="formulaDsp">
<img class="formulaDsp" alt="\[X_t\]" src="form_0.png">
<p>
 to <p class="formulaDsp">
<img class="formulaDsp" alt="\[ Y_\tau = \{ X_{t+\tau} | c(t+\tau) \hat \not c(t+s), s \in [-pre,post]/0\}\]" src="form_1.png">
<p>
 <dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pre</em>&nbsp;</td><td>
start of rejection interval, counted from the event (t=0) </td></tr>
<tr><td valign="top"><em>post</em>&nbsp;</td><td>
end of rejection interval, counted from the event (t=0) </td></tr>
</table>
</dl>
</div>
</div><p>
<a class="anchor" name="59b847386798c7910ab8ad2fc7a1bb9f"></a><!-- doxytag: member="ConditionalEstimator::removeRejection" ref="59b847386798c7910ab8ad2fc7a1bb9f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ConditionalEstimator::removeRejection           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Remove rejection. 
<p>
Sets the estimator to normal mode again. See <a class="el" href="classConditionalEstimator.html#293d7b5c39d64262cab391db5c92b09b" title="Add rejection interval.">setRejection()</a>. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 28 00:36:14 2008 for NeuroLab by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
